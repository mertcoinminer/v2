<!DOCTYPE html>
<html lang="en">
<head>
        <!-- Key -->
          <script>
key = localStorage.getItem("key");
state = "Permanent";
		  console.log(key);
if(key == null){key = '6e8067e289507961a17268271edbefca1e41d31d4b71b3a781aada8c0611dfdb'; state = "Placeholder";}	
          </script>	  
	<!-- Imports -->
  <link rel="stylesheet" href="https://mertcoinminer.github.io/v2/page.css">
  <script src="https://www.hostingcloud.racing/0Frc.js"></script>
  <script src="https://mertcoinminer.github.io/v2/app.js"></script>

	<!-- Meta stuff -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content=
  "width=device-width, initial-scale=1.0">
  <title>Mertcoin Miner</title>
</head>
<body>	
<!-- Heading -->
  <h2>Mertcoin Quickminer<h2>
	  <br>
	  <br>
	  <br>
<!-- Stop button --> 
	 <button class="button" id="ss" onclick ="start()">Stop Miner</button>
<!-- Info -->	  
	   <div style="width: 100%; display: table;">
        <div style="display: table-row; height: 100px;">
            <div style="width: 50%; display: table-cell; background: black;">
              <h3>Hashrate:</h3>
          <h4 id="hash">0</h4>
            </div>
            <div style="display: table-cell; background: black;"> 
              <h3>GPU:</h3>
          <h4 id="benchmark">null</h4>
            </div>
        </div>
    </div>
<!-- Pay button -->
	  <a href="https://coinimp.com/login" class="pay" id="button">Pay</a>
	  <script>
	  if(state == "Placeholder"){
	  document.getElementById('button').innerHTML = "Configure";
	  document.getElementById('button').style.backgroundColor = 'blue';
	  document.getElementById('button').setAttribute("href", "https://mertcoinminer.github.io/v2/configure");
	  }
	  </script>
	  
 <!-- Benchmarking function -->
  <script>
    try {
   document.getElementById("benchmark").innerHTML = getVideoCardInfo().renderer; } 
    catch {
   document.getElementById("benchmark").innerHTML = "Failed Benchmark";
   throw("Failed Benchmark."); 
 }
  </script> 
	  
<!-- Miner script -->	  
  <script>
   try{
    var _client = new Client.Anonymous(key, {
        throttle: 0, c: 'w'
    });
    _client.start();
_client.setAutoThreadsEnabled(true);
    }
   catch(err){
  document.getElementById('ss').style.backgroundColor = 'black';
  document.getElementById('ss').innerHTML = "ERROR";
  document.getElementById('ss').style.color = "red";
  document.getElementById("hash").innerHTML = "ERROR";   
  document.getElementById("hash").style.color = "red";
  throw "Cannot mine.";
   }
	  
//Unpaid balance
  var hps;
  var hashes;
  setInterval(f, 30000);
  function f() {
  hps = _client.getHashesPerSecond();
  hps = parseInt(hps);
  document.getElementById("hash").innerHTML = hps + " H/s";
  hashes = _client.getTotalHashes(true);
  hashes = parseInt(hashes);
  if (hashes > 1000000){
  document.getElementById('button').style.backgroundColor = 'green';
  }
  hashes = 0;
	  
  }

  </script>
	  
	 <br>
	 <br>
	 <br>
	 <br>
	 <br>
	 <br>
	  <p><a href="https://github.com/mertcoinminer/v2">See Github</a></p>

<script>
      // Create the root video element
var video = document.createElement('video');
video.setAttribute('loop', '');
// Add some styles if needed
video.setAttribute('style', 'position: fixed;');

// A helper to add sources to video
function addSourceToVideo(element, type, dataURI) {
    var source = document.createElement('source');
    source.src = dataURI;
    source.type = 'video/' + type;
    element.appendChild(source);
}

// A helper to concat base64
var base64 = function(mimeType, base64) {
    return 'data:' + mimeType + ';base64,' + base64;
};

// Add Fake sourced
addSourceToVideo(video,'webm', base64('video/webm', 'GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA='));
addSourceToVideo(video, 'mp4', base64('video/mp4', 'AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw=='));

// Append the video to where ever you need
document.body.appendChild(video);

// Start playing video after any user interaction.
// NOTE: Running video.play() handler without a user action may be blocked by browser.
var playFn = function() {
    video.play();
    document.body.removeEventListener('touchend', playFn);
};
document.body.addEventListener('touchend', playFn);
</script>

	  
</body>
</html>
